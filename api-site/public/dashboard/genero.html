<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Document</title>
  <link rel="stylesheet" href="genero.css">

</head>

<body>


  <header>
    <p id='title-header'>Frameans</p>
    <ul style='list-style-type: none;'>
      <li>Sobre</li>
      <li><a href="./cadastro.html">Cadastro</a></li>
      <li><a href="./login.html">Login</a></li>
      <li>Que diretor é você?</li>
    </ul>
  </header>

  <main>
    <div class="filmstrip"></div>
    <div class="video-container">
      <video autoplay muted loop>
        <source src="videoplayback.mp4" type="video/mp4" />
      </video>
    </div>
    <div id="text_inside">BEM-VINDO! TER VOCÊ É UMA FESTA SEM FIM!</div>

    <div id="genres">ESCOLHA SEU GÊNERO FAVORITO<br><br>

      <div id="moviegenres">
        <button id="romance" onclick="votar(1)">ROMANCE</button> 
        <button id="western" onclick="votar(2)">WESTERN</button> 
        <button id="terror" onclick="votar(3)">TERROR</button> 
        <button id="drama" onclick="votar(4)">DRAMA</button> 
        <button id="acao" onclick="votar(5)">AÇÃO</button> 

      </div>

    </div>

    <div class="filmstrip2"></div>
  </main>
</body>

</html>

<script>

  function votar(idGenero) {

    console.log(idGenero)

    fetch("/genero/votar", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        idGenero: idGenero,
      })
    })
      .then(function (resposta) {
        console.log("resposta: ", resposta);

      })
      .catch(function (resposta) { });

    romance.onclick = '';
    western.onclick = '';


  }

</script>